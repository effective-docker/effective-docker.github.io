<!doctype html>
<!--[if IE 9]>
<html class="lt-ie10" lang="en"> <![endif]-->
<html class="no-js" lang="en" data-useragent="Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Jekyll AsciiDoc Quickstart</title>


    <meta name="description"
          content="Docker in Production, Docker Blog, Docker in Produktion, Docker Internals"/>

    <meta name="author" content="Martin Dilger"/>

    <meta http-equiv="X-UA-Compatible" content="edge">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="content-script-type" content="text/javascript" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="language" content="de" />
<meta http-equiv="pragma" content="no-cache" />

<meta name="description" content="Persoenliche IT-Trainings mit Erfolgsgarantie - Docker- Git- Scrum und Kanbanschulungen, IT Consulting fuer Java, Enterprise- und Web-Projekte im agilen Umfeld." xml:lang="de"/>
<meta name="shortDescription" content="IT Consulting & Professionelle IT Trainings"/>
<meta name="robots" content="index,follow" />
<meta name="DC.Publisher" content="Martin Dilger - Effective Trainings" />
<meta name="DC.Language" content="de" />
<meta name="publisher" content="Martin Dilger - Effective Trainings" />
<meta name="googlebot" content="archive"/>
<meta name="resource-type" content="content"/>
<meta name="audience" content="all"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<link rel="alternate" type="application/rss+xml" title="Effective Trainings RSS" href="http://effective-docker.github.io/feed.xml" />
<link rel="author" href="https://plus.google.com/u/0/103776857080750763965"/>


<!-- Le styles -->

<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<!-- custom css -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css"/>
<script type="text/javascript" language="javascript">
    var _gaq = _gaq || [];
    function trackLink(link, category, action, redirect) {

        if(redirect == undefined) {
            redirect = true;
        }

        try {
            _gaq.push(['_trackEvent', category , action]);
        } catch (error) {
            console.log("tracking error");
        }

        if(redirect) {
        setTimeout(function () {
            document.location.href = link.href;
        }, 100);
        }
    }
</script>


    <link rel="stylesheet" href="css/app.css"/>
    <script src="js/vendor/jquery.js"></script>
    <script src="js/foundation.min.js"></script>
    <script src="js/vendor/modernizr.js"></script>
    <script src="js/toc.js"></script>
</head>
<body>


<!-- Nav Bar -->
<div class="container">
    <div class="row">
    <nav class="navbar navbar-default top-page">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <!--a class="navbar-brand" href="#">Brand</a-->
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <!--<ul class="nav navbar-nav navbar-right"></ul>-->
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <!-- xing -->
                        <a title="XING" onclick="trackLink(this,'social-media','xing');return false;"
                           href="https://www.xing.com/profile/Martin_Dilger2" target="_blank" rel="me"><img
                                src="http://www.xing.com/img/n/xing_icon_32x32.png" width="32" height="32" alt="XING"
                                target="_blank"></a></li>
                    <li>
                        <!-- gulp -->
                        <a title="Beraterprofil auf Gulp" href="http://www.gulp.de/Profil/martindilger.html"
                           target="_blank" onclick="trackLink(this,'social-media','gulp');return false;" rel="me"><img
                                src="https://www.gulp.de/presse/images/bildmaterial/gulp-logo.jpg" height="32"
                                alt="Gulp Berater Profil"></a></li>
                    <li>
                        <!-- twitter -->
                        <a title="Twitter" href="https://twitter.com/#!/dilgerma" target="_blank" rel="me"
                           onclick="trackLink(this,'social-media','twitter');return false;">
                            <img src="https://effectivetrainings.de/images/twitter.png" width="32"
                                                                     height="32"
                                                                     alt="Twitter"></a>
                    <li>
                        <!-- github -->
                        <a title="Github" href="https://github.com/dilgerma" target="_blank" rel="me"
                           onclick="trackLink(this,'social-media','github');return false;"><img
                                src="http://effectivetrainings.de/images/effective/github.png" width="32" height="32"
                                alt="GitHub"
                                target="_blank"></a>
                    </li>
                    <li>
                        <!-- slideshare -->
                        <a title="Slideshare" href="http://de.slideshare.net/effectivetrainings"
                           onclick="trackLink(this,'social-media','slideshare');return false;" target="_blank" rel="me"><img
                                src="https://effectivetrainings.de/images/effective/slideshare.png" width="32"
                                height="32"
                                alt="Slideshare"></a>
                    </li>
                </ul>
                <!--ul class="nav navbar-nav navbar-right">
                    <li><a href="#">Link</a></li>
                    </li>
                </ul-->
            </div>
            <!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
    </nav>
</div>




    <!-- End Nav -->


    <!-- Main Page Content and Sidebar -->

    <div class="row">

        <!-- Main Blog Content -->
        <div class="col-sm-8 blog-main" role="content">

            <ul>
            
                <li class="excerpt">
                    <span class="post-date"> 16.01.2017</span> <a href="/docker-logging/">Docker Logging</a>
                    <div class="sect1">
<h2 id="docker-logging-mit-elk-in-5-minutes">Docker Logging mit ELK in 5 Minutes</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="tldr">TLDR;</h3>
<div class="paragraph">
Spätestens im Cluster mit mehreren Knoten wird es schwierig, den Überblick über die Logs aller Container auf allen Hosts zu behalten.
Es ist einfach nicht mehr praktikabel und zeitgemäß, sich auf einem Knoten einzuloggen, um dort die Logfiles in <em>/var/log/</em> manuell mit <em>less</em> und <em>tail</em>  zu durchforsten.
</div>
<div class="paragraph">
Besser ist der Einsatz eines zentralel Logging-Servers. Hierfür gibt es viele Beispiele und wir werden uns noch einige genauer betrachten. Für den Anfang nehmen wir den kampferprobten <strong>ELK-Stack</strong>. Elk kennt mittlerweile wahrscheinlich beinahe jeder, und steht für <strong>E</strong> - ElasticSearch, <strong>L</strong> - Logback, <strong>K</strong> - Kibana.
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tipp</div>
</td>
<td class="content">
Unten finden Sie die Kommandos die sie direkt in einem Swarm Cluster ausführen können für ein 1 Copy / Paste Setup des Elk-Stacks inkl. Logspout.
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Achtung</div>
</td>
<td class="content">
Mit Boot2Docker auf MacOS werden Sie typischerweise das hier sehen: # Native memory allocation (mmap) failed to map 2060255232 bytes for committing reserved memory. ElasticSearch braucht mindestens 2GB daher empfiehlt es sich für dieses Experiment den Memory zu erhöhen (es reicht beispielsweise über die VirtualBox UI)
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
                </li>
              
                <li class="excerpt">
                    <span class="post-date"> 15.01.2017</span> <a href="/docker-inspect/">Daily Docker inspect</a>
                    <div class="sect1">
<h2 id="daily-docker-inspect">Daily Docker Inspect</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="tldr">TLDR;</h3>
<div class="paragraph">
Docker inspect erlaubt es uns, einen Blick in die Tiefen und Untiefen eines Containers zu werfen.
</div>
<div class="paragraph">
Hierfür starten wir zunächst einen einfachen Container im eigenen Netzwerk, der nichts tut außer warten.
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">docker network create -d bridge test-bridge
docker volume create test

docker run -d -p 8080:8080 -v test:/test -v /tmp:/tmp/test --network test-bridge --name runner effectivetrainings/runner
# das Portmapping ist völlig unnötig, dient uns nur zur Veranschaulichung von Ports in der inspect-Ausgabe.</code></pre>
</div>
</div>
<div class="paragraph">
Inspizieren wir den laufenden Container, bekommen wir eine ganze Menge Informationen, für die wir üblicherweise gar keine Verwendung haben. Das geht besser.
</div>
</div>
</div>
</div>
                </li>
              
                <li class="excerpt">
                    <span class="post-date"> 13.01.2017</span> <a href="/effective-docker-cheatsheet/">Effective Docker Cheatsheet</a>
                    <div class="sect1">
<h2 id="docker-cheat-sheet">Docker Cheat Sheet</h2>
<div class="sectionbody">
<div class="paragraph">
Ich habe das <a href="http://www.effectivetrainings.de/training/docker/effective-trainings-docker-cheatsheet.pdf">Docker Handout</a> erstellt. Eigentlich sollte hier alles drauf sein, was man braucht um effektiv mit <strong>Docker</strong> arbeiten zu können.
</div>
</div>
</div>
                </li>
              
                <li class="excerpt">
                    <span class="post-date"> 06.01.2017</span> <a href="/pumba-chaos-testing/">Chaos Tests</a>
                    <div class="sect1">
<h2 id="chaos-testing">Chaos Testing</h2>
<div class="sectionbody">
<div class="paragraph">
In verteilten Systemen können wir Fehler niemals ausschließen. Die möglichen Fehlerquellen sind fast unendlich.
</div>
<div class="ulist">
<ul>
<li>
partieller oder totaler Netzwerkausfall
</li>
<li>
Datenbankprobleme
</li>
<li>
Anwendungen / Services sind kurzfristig / langfristig nicht verfügbar
</li>
<li>
Lastprobleme
</li>
<li>
Sicherheit / Firewall / ungültige Zertifkate
</li>
</ul>
</div>
<div class="paragraph">
<strong>Resilient Software</strong> sollte so geschrieben sein, dass Fehler akzeptiert werden und der Aufrufer noch zumindest teilweise das System bedienen kann.
</div>
<div class="paragraph">
<strong>Netflix</strong> hat mit seiner Werkzeug-Box <a href="https://github.com/Netflix/SimianArmy">SimianArmy</a> Tools für das Chaos-Testing erstellt und damit <strong>Chaos-Testing</strong> salonfähig gemacht.
Chaos-Testing folgt den <a href="http://principlesofchaos.org/">Prinzipien des Chaos</a>.
Beispielsweise fährt Chaos-Monkey durch Zufall ausgewählte Server-Instanzen herunter, genau wie ein Affe, der wahllos Kabel zieht.
</div>
<div class="paragraph">
Warum macht Netflix das? Weil nur dann sichergestellt ist, dass ein System auch dann funktioniert, wenn Upstream-Services nicht verfügbar* sind. Ein Entwickler kann sich niemals darauf verlassen, dass der Service, den er gerade aufruft auch verfügbar ist - <strong>Chaos</strong>.
</div>
</div>
</div>
                </li>
              
                <li class="excerpt">
                    <span class="post-date"> 04.01.2017</span> <a href="/docker-swarm-health-checks/">Docker Swarm Health Checks</a>
                    <div class="sect1">
<h2 id="docker-swarm-mode-health-checks">Docker Swarm Mode Health Checks</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="tldr">TLDR;</h3>
<div class="ulist">
<ul>
<li>
Die Sourcen sind unter : <a href="https://github.com/effective-docker/docker-healthcheck.git" class="bare">https://github.com/effective-docker/docker-healthcheck.git</a>
</li>
<li>
Swarm Scheduler arbeitet mit den Container Health Checks
</li>
<li>
Nur <em>healthy</em> Container werden geroutet.
</li>
<li>
Nach drei fehlgeschlagenen Health-Checks wird ein Container neu gestartet (ggf. auch auf einem anderen Knoten)
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="docker-swarm-mode">Docker Swarm Mode</h3>
<div class="paragraph">
Im <a href="https://effective-docker.github.io/docker-healthchecks/">letzten Eintrag</a> haben wir uns mit <em>Health Checks</em> in Containern beschäftigt. Das alleine ist schon eine sehr wichtige Funktionalität, entwickelt ihr Potential allerdings erst in Zusammenarbeit mit einem Scheduler der das aktiv unterstützt. In diesem Artikel konzentrieren wir uns auf <strong>Docker Swarm im Swarm Mode (ab 1.12)</strong>
</div>
</div>
</div>
</div>
                </li>
              
                <li class="excerpt">
                    <span class="post-date"> 03.01.2017</span> <a href="/docker-healthchecks/">Docker Health Checks</a>
                    <div class="sect1">
<h2 id="docker-health-checks">Docker Health Checks</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="tldr">TLDR;</h3>
<div class="ulist">
<ul>
<li>
Die Sourcen sind unter : <a href="https://github.com/effective-docker/docker-healthcheck.git" class="bare">https://github.com/effective-docker/docker-healthcheck.git</a>
</li>
<li>
Seit Docker 1.12 gibt es die Möglichkeit, Health-Checks für Container zu definieren
</li>
<li>
Health-Checks sind vor allem zusammen mit Swarm hochinteressant: <a href="https://docs.docker.com/engine/reference/builder/#/healthcheck" class="bare">https://docs.docker.com/engine/reference/builder/#/healthcheck</a>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="docker-container-health-checks">Docker Container Health Checks</h3>
<div class="paragraph">
Anwendungen zu deployen ist <em>einfach</em>, und Docker Container zu starten ist noch <em>einfacher</em>.
 Ein einfaches <em>docker run</em> und schon sind wir live. Das funktioniert
 auch eine ganze Zeit bis zum ersten Problem - sei es nun eine <em>Lastspitze</em>, ein <em>Bug</em>, ein Amoklaufender Prozess oder einfach ein <em>temporäres</em> Netzwerkproblem.
 Die Anwendung ist nicht erreichbar, unsere <em>E-Commerce</em>-Plattform ist für die Kunden nichts weiter als eine <em>500 - Wir arbeiten an einer Lösung</em> und bis wir diese gefunden haben ist die Bestellung meistens schon bei der Konkurrenz gelandet.
</div>
</div>
</div>
</div>
                </li>
              
            </ul>

            <div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#effective-docker-blog">Effective Docker Blog</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="effective-docker-blog">Effective Docker Blog</h2>
<div class="sectionbody">

</div>
</div>

        </div>

        <!-- End Main Content -->

        <!-- Sidebar -->

        <aside class="col-sm-3 col-sm-offset-1 blog-sidebar">

            <!-- Footer -->
            <h5>Posts</h5>

            <ul id="all-posts" class="posts nav">
                
                <li><a href="/docker-logging/"><span class="post-date"> 16.01.2017</span> Docker Logging mit ELK</a></li>
                
                <li><a href="/docker-inspect/"><span class="post-date"> 15.01.2017</span> Docker inspect für jeden Tag</a></li>
                
                <li><a href="/effective-docker-cheatsheet/"><span class="post-date"> 13.01.2017</span> All you ever need to know about Docker..</a></li>
                
                <li><a href="/pumba-chaos-testing/"><span class="post-date"> 06.01.2017</span> Docker Chaos Testing mit Pumba</a></li>
                
                <li><a href="/docker-swarm-health-checks/"><span class="post-date"> 04.01.2017</span> Health Checks mit Docker Swarm Mode</a></li>
                
                <li><a href="/docker-healthchecks/"><span class="post-date"> 03.01.2017</span> Health Checks mit Docker, Spring Boot und Actuator</a></li>
                
            </ul>

            <div class="sidebar-well">

                <h5>Über mich</h5>

                <p>Ich bin Martin. Freiberuflicher Softwareentwickler / Consultant / Trainer. </p>
                Verteilte Systeme, Resilient Software und Craftmanship.
                10+ Jahre Erfahrung, <a
                    href="http://www.amazon.de/gp/product/B00HXURPHG/ref=as_li_qf_sp_asin_tl?ie=UTF8&camp=1638&creative=6742&creativeASIN=B00HXURPHG&linkCode=as2&tag=splitshadewor-21">Buch-Autor</a>,
                Git-Trainer, Docker-Trainer, Daddy.
            </div>

        </aside>

        <!-- End Sidebar -->
    </div>
    <!-- End Main Content and Sidebar -->

    <footer class="row">
        <div class="large-12 columns">
            <hr/>
            <div class="row">
                <div class="large-12 columns">
                    


<div class="effective_green">
@2017 www.effectivetrainings.de
</div>

                </div>
            </div>
        </div>
    </footer>
    <script>
        $(document).foundation();
    </script>
    <script>
        $(document).foundation();

        var doc = document.documentElement;
        doc.setAttribute('data-useragent', navigator.userAgent);
    </script>

</div>
<script id="dsq-count-scr" src="//effective-docker-github-io.disqus.com/count.js" async></script>
</body>
</html>
